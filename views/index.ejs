<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HELLO CALENDAR</title>

    <!-- favicon -->
    <link rel="icon" type="image/png" href="../static/img/favicon.png" />

    <!-- css: layout -->
    <link rel="stylesheet" href="../static/css/layout.css" />

    <!-- css: calendar -->
    <link rel="stylesheet" href="../static/css/calendar.css" />

    <!-- css: todolist -->
    <link rel="stylesheet" href="../static/css/todolist.css" />
    <link rel="stylesheet" href="../static/css/todo.css" />

    <!-- css : mediaQuery -->
    <link rel="stylesheet" href="../static/css/mediaQuery.css" />
    <!-- css: shortcut -->
    <link rel="stylesheet" href="../static/css/shortcut.css" />

    <!-- Google icon : setting, add, stop, edit -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <!-- ÌïúÍµ≠Ïñ¥ font: IBM Plex Sans, ÌîÑÎ¶¨ÌÖêÎã§ -->
    <!--ÎààÎàÑ Ìè∞Ìä∏Îäî Ìó§ÎçîÏóê Ïïà Îì§Ïñ¥Í∞ê-->

    <!-- ÏòÅÏñ¥ font: Maven Pro, Noto Sans, Amiko -->
    <link
      href="https://fonts.googleapis.com/css2?family=Amiko:wght@400;600;700&family=Maven+Pro:wght@400;500;600&family=Noto+Sans:wght@300;400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Ï†úÏù¥ÏøºÎ¶¨ CDN -->
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>

    <!-- Axios CDN -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <!-- header: Î∞îÎ°úÍ∞ÄÍ∏∞, Î°úÍ≥†, ÏÑ§Î™ÖÏÑú, Î°úÍ∑∏Ïù∏-->
    <header>
      <nav>
        <!-- Îã§ÌÅ¨Î™®Îìú Î≤ÑÌäº -->
        <button class="btn-toggle">
          <img
            src="../static/img/day-and-night.png"
            alt="Îã§ÌÅ¨Î™®Îìú Ïù¥ÎØ∏ÏßÄ"
            title="Îã§ÌÅ¨Î™®Îìú Ïã§Ìñâ"
          />
        </button>

        <div class="flex_space"></div>

        <!-- Logo + change username-->

        <div class="headerContent">
          <% if(isLogin){ %>
          <div id="nav_user_info">
            <h3 class="userName">
              <%=name%>Îãò<img
                src="../static/img/down.png"
                class="toggleImg"
                alt="toggleImg"
              />
            </h3>
            <div class="userEmail"><%=email%></div>
            <h3 id="logout" class="toggle hide">Î°úÍ∑∏ÏïÑÏõÉ</h3>
          </div>
          <% }else{ %>
          <h3><a href="/login/signup">ÌöåÏõêÍ∞ÄÏûÖ</a></h3>
          <h3 class="headerLogin"><a href="/login">Î°úÍ∑∏Ïù∏</a></h3>
          <% } %>
        </div>
      </nav>
      <div class="logo">
        <% if(isLogin){ %>
        <h3 class="headerLogo">HELLO <%=name%>!</h3>
        <% }else{ %>
        <h3 class="headerLogo">HELLO CALENDAR</h3>
        <% } %>
      </div>
    </header>

    <main>
      <!-- Í≤ÄÏÉâÎ∞î -->
      <div id="home_tools">
        <div class="searchBar">
          <input type="text" id="search_text" placeholder="Google" autofocus />
          <button id="search_btn">Search</button>
        </div>
        <!-- ÎßÅÌÅ¨ -->
        <div id="shortcut">
          <div class="shortcuts add_btn">
            <span class="material-symbols-outlined">add</span>
          </div>
          <div class="shortcuts setting_btn">
            <span class="material-symbols-outlined">settings</span>
          </div>
        </div>
      </div>

      <!-- Ï∫òÎ¶∞Îçî: ÏÉà Î≤ÑÏ†Ñ-->
      <div class="calendarRap">
        <div class="scheduleContent">
          <div class="dayWrap">
            <div id="nowDay" class="nowDay"></div>
            <div id="nowDate" class="nowDate"></div>
          </div>
          <div class="scheculeWrap">
            <div class="scheduleTitle">
              <span class="material-symbols-outlined">add</span>
              <span>ÏùºÏ†ïÏ∂îÍ∞ÄÌïòÍ∏∞</span>
            </div>
            <div class="inputWrap">
              <input
                type="text"
                placeholder="write here"
                id="input"
                class="input"
              />
              <button type="button" id="inputBtn" class="inputBtn">Îì±Î°ù</button>
            </div>
            <div id="listcontents" class="listcontents"></div>
          </div>
        </div>
        <div class="calendarContent">
          <div class="calendarHeader">
            <div class="calendarBtn calPrevDay"></div>
            <h2 class="dateTitle"></h2>
            <div class="calendarBtn nextDay"></div>
          </div>

          <div class="grid dateHead">
            <div class="dateHeadSun">SUN</div>
            <div>MON</div>
            <div>TUE</div>
            <div>WED</div>
            <div>THU</div>
            <div>FRI</div>
            <div class="dateHeadSat">SAT</div>
          </div>

          <div class="grid dateBoard"></div>
        </div>
      </div>
    </main>

    <!-- TodoList -->
    <div class="todoTabs">
      <button class="openTabBtn inputBtn" onclick="openTodo();">to<br>do</button>

      <div class="todoTab todoTabBusiness noshow">
        <button class="closeTabBtn inputBtn" onclick="cloesTodo();">X</button>
        <table class="table">
          <thead>
            <tr>
              <th>Í≥µ/ÏÇ¨</th>
              <th>Ïö∞ÏÑ†ÏàúÏúÑ</th>
              <th>todo</th>
            </tr>
          </thead>
          <tbody name="">

            <% for (let i = 0; i < data.length; i++) { %>
              <% let cnt = 0; %>

              <tr id="tr_<%= data[i].id %>" 
                class="<%= (data[i].complete ? 'complete' : '')%> row">
                
                <!-- Í≥µÏ†Å -->
                <% if(!data[i].business){ %><td>üéà</td>
                  <% }else {%> <td>üíº</td>
                <% } %>
          
                
                <td><% if(data[i].priority==3){ %>‚≠ê‚≠ê‚≠ê
              <% }else if(data[i].priority==2){ %>‚≠ê‚≠ê
              <% }else { %>‚≠ê  
              <% } %></td>

                <td><%= data[i].task %></td>
                <td><button type="button" class="btnComplete 
                  " onclick="complete('<%= data[i].id %>')"><%= data[i].complete ? 'Ï∑®ÏÜå' : 'ÏôÑÎ£å' %></button></td> 
                <td><button type="button" class="btnDelete" onclick="todoDelete(this, '<%= data[i].id %>')">ÏÇ≠Ï†ú</button></td>
              </tr>

            <% } %>
              
            

        </tbody>
        
        </table>
        <% if(data.length > 5){ %> <span>and more...</span>
          <% } %>
        <a href="/todo">todo Ï†ÑÏ≤¥Î≥¥Í∏∞</a>
      </div>

      <!-- <div class="todoTab todoTabPrivate">

      <img src="/static/img/briefcase.png" class="businessImg" />
      <div class="todoTab todoTabPrivate noshow">
        <table class="table">
          <thead>
            <tr>
              <th>ÏÇ¨Ï†Å</th>
              <th>Ïö∞ÏÑ†ÏàúÏúÑ</th>
              <th>todo</th>
            </tr>
          </thead>
          
        </table>
        <a href="/todo">...todo Ï†ÑÏ≤¥Î≥¥Í∏∞</a>
      </div>
    </div> -->
    <div id="forms">
      <div class="link_add hide">
        <h3>Î∞îÎ°úÍ∞ÄÍ∏∞ Ï∂îÍ∞Ä</h3>
        <hr />
        <input type="text" class="linkName" placeholder="Name" required /><br />
        <input
          type="text"
          class="linkUrl"
          placeholder="URL"
          max="199"
          required
        /><br />
        <div class="buttons">
          <button type="button" class="submit">Ï∂îÍ∞Ä</button>
          <button type="button" class="close">Îã´Í∏∞</button>
        </div>
      </div>
      <div class="link_setting hide">
        <h3>Î∞îÎ°úÍ∞ÄÍ∏∞ÎßÅÌÅ¨</h3>
        <hr />
        <div class="links"></div>
        <div class="buttons">
          <button type="button" class="close">Îã´Í∏∞</button>
        </div>
      </div>
      <div class="calendar_add hide">
        <h3>ÏùºÏ†ïÏ∂îÍ∞Ä</h3>
        <hr />
        ÏãúÏûë:
        <input
          type="date"
          max="2099-01-01"
          min="1970-01-01"
          class="startDate"
        /><br />
        Ï¢ÖÎ£å:
        <input
          type="date"
          max="2099-01-01"
          min="1970-01-01"
          class="endDate"
        /><br />
        <input
          type="text"
          class="calendarName"
          required
          placeholder="Name"
        /><br />
        <input type="text" class="calendarDetail" required placeholder="memo" />
        <div class="buttons">
          <button type="button" class="submit">Ï∂îÍ∞Ä</button>
          <button type="button" class="close">Îã´Í∏∞</button>
        </div>
      </div>
      <div class="hide editCalendar">
        <h3>ÏùºÏ†ï ÏÇ≠Ï†ú,ÏàòÏ†ï</h3>
        <hr />
        ÏãúÏûë:
        <input
          type="date"
          max="2099-01-01"
          min="1970-01-01"
          class="startDate"
        /><br />
        Ï¢ÖÎ£å:
        <input
          type="date"
          max="2099-01-01"
          min="1970-01-01"
          class="endDate"
        /><br />
        <input
          type="text"
          class="calendarName"
          required
          placeholder="Name"
        /><br />
        <input type="text" class="calendarDetail" required placeholder="memo" />
        <div class="hide" id="calendarTargetKey"></div>
        <div class="buttons">
          <button type="button" class="edit">ÏàòÏ†ï</button>
          <button type="button" class="remove">ÏÇ≠Ï†ú</button>
          <button type="button" class="close">Îã´Í∏∞</button>
        </div>
      </div>
    </div>

    <!-- JS: calendar -->
    <script src="../static/js/calendar.js"></script>

    <!-- JS: index -->
    <script src="../static/js/index.js"></script>

    <!-- JS: shortcut -->
    <script src="../static/js/shortcut.js"></script>

    <!-- ToDo Í∏∞Îä• Íµ¨ÌòÑ ÎÇ¥Ïö© -->

    <script src="../static/js/todo.js"></script>
	  <!-- <script src="../static/js/todo.js"></script>	 -->

    <!-- JS: darkmode -->
    <script src="../static/js/darkmode.js"></script>
    <script>

      const todoTab = document.querySelector('.todoTabBusiness');
      const openBtn = document.querySelector('.openTabBtn');
      const closeBtn = document.querySelector('.closeTabBtn');


      function cloesTodo() {
        todoTab.classList.add("noshow");
        openBtn.classList.remove("noshow");

      }
      function openTodo() {
        todoTab.classList.remove("noshow");
        openBtn.classList.add("noshow");

      }
    </script>
  </body>
</html>
